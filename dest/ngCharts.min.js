/*! ng-charts 1.0.0 */
angular.module("ng-charts",[]).constant("ng-charts.defaults",{scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleOverlay:!1,xFilters:"number:0",yFilters:"number:0",onAnimationComplete:null,animationEasing:"easeOutQuart",animation:!0,animationSteps:70,zeroXAxis:!0,zeroYAxis:!0,xScaleLimits:{min:null,max:null},yScaleLimits:{min:null,max:null}}),angular.module("ng-charts").factory("ng-charts.Chart",["$filter",function(a){"use strict";function b(a,b,c){this.ctx=a.getContext("2d"),this.setCanvasSize(a,b,c)}function c(b,c){for(var d=c.trim().split("|"),e=b,f=0;f<d.length;f++){var g=d[f].trim().split(":"),h=a(g.shift().trim());g.unshift(e),e=h.apply(null,g)}return e}function d(a,b,c){return e(b)&&a>b?b:e(c)&&c>a?c:a}function e(a){return!isNaN(parseFloat(a))&&isFinite(a)}var f={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-a*(a-2)},easeInOutQuad:function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return 1*((a=a/1-1)*a*a+1)},easeInOutCubic:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-1*((a=a/1-1)*a*a*a-1)},easeInOutQuart:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return 1*(a/=1)*a*a*a*a},easeOutQuint:function(a){return 1*((a=a/1-1)*a*a*a*a+1)},easeInOutQuint:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return-1*Math.cos(a/1*(Math.PI/2))+1},easeOutSine:function(a){return 1*Math.sin(a/1*(Math.PI/2))},easeInOutSine:function(a){return-0.5*(Math.cos(Math.PI*a/1)-1)},easeInExpo:function(a){return 0===a?1:1*Math.pow(2,10*(a/1-1))},easeOutExpo:function(a){return 1===a?1:1*(-Math.pow(2,-10*a/1)+1)},easeInOutExpo:function(a){return 0===a?0:1==a?1:(a*=2)<1?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return a>=1?a:-1*(Math.sqrt(1-(a/=1)*a)-1)},easeOutCirc:function(a){return 1*Math.sqrt(1-(a=a/1-1)*a)},easeInOutCirc:function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:1==a?1:(c||(c=.3),d<Math.abs(1)?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),-(d*Math.pow(2,10*(a-=1))*Math.sin(2*(1*a-b)*Math.PI/c)))},easeOutElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:1==(a/=1)?1:(c||(c=.3),d<Math.abs(1)?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),d*Math.pow(2,-10*a)*Math.sin(2*(1*a-b)*Math.PI/c)+1)},easeInOutElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:2==(a*=2)?1:(c||(c=.3*1.5),d<Math.abs(1)?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),1>a?-.5*d*Math.pow(2,10*(a-=1))*Math.sin(2*(1*a-b)*Math.PI/c):d*Math.pow(2,-10*(a-=1))*Math.sin(2*(a-b)*Math.PI/c)*.5+1)},easeInBack:function(a){var b=1.70158;return 1*(a/=1)*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return 1*((a=a/1-1)*a*((b+1)*a+b)+1)},easeInOutBack:function(a){var b=1.70158;return(a*=2)<1?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},easeInBounce:function(a){return 1-f.easeOutBounce(1-a)},easeOutBounce:function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInOutBounce:function(a){return.5>a?.5*f.easeInBounce(2*a):.5*f.easeOutBounce(2*a-1)+.5}};b.prototype.getColor=function(a,b,c){var d=["#23b5e4","#51e2d1","#fe7e7b","#fabf00"],e=1;return e=1===c?b:a,e<d.length?d[e]:d[d.length%e-1]},b.prototype.setCanvasSize=function(a,b,c){if(a.width=b,a.height=c,window.devicePixelRatio){var d=window.devicePixelRatio;a.style.width=b+"px",a.style.height=c+"px",a.height*=d,a.width*=d,this.ctx.scale(d,d)}},b.prototype.getValueBounds=function(a){var b,c,d=Number.MIN_VALUE,e=Number.MAX_VALUE,f={};for(b=0;b<a.length;b++)for(c=0;c<a[b].y.length;c++)a[b].y[c]>d&&(d=a[b].y[c]),a[b].y[c]<e&&(e=a[b].y[c]);if(f.maxY=d,f.minY=e,"undefined"!=typeof a[0].x){for(d=Number.MIN_VALUE,e=Number.MAX_VALUE,b=0;b<a.length;b++)for(c=0;c<a[b].x.length;c++)a[b].x[c]>d&&(d=a[b].x[c]),a[b].x[c]<e&&(e=a[b].x[c]);f.maxX=d,f.minX=e}return f},b.prototype.calculateScale=function(a,b,c,d,e){var f,g,h,i;if(a=e.max?e.max:a,e.min)b=e.min;else if(d)b=0;else if(i=a-b,0!==i){g=Math.floor(Math.log(i)/Math.LN10);var j=Math.floor(Math.log(b)/Math.LN10);b=Math.floor(b/Math.pow(10,j-g-1))*Math.pow(10,j-g-1)}if(i=a-b,0===i)g=Math.floor(Math.log(b)/Math.LN10),f=.25*Math.pow(10,g),h=2;else{g=Math.floor(Math.log(i)/Math.LN10);var k=i/Math.pow(10,g);f=2>=k?.25*Math.pow(10,g):6>=k?Math.pow(10,g):2*Math.pow(10,g),f=Math.ceil(f),h=Math.ceil(i/f)}a=b+f*h;var l=[];return this.populateLabels(c,l,h,b,f),{steps:h,stepValue:f,minValue:b,maxValue:a,labels:l}},b.prototype.populateLabels=function(a,b,d,e,f){for(var g=0;d+1>g;g++){var h=e+f*g;a&&(h=c(h,a)),b.push(h)}},b.prototype.animationLoop=function(a,b,c,e){function h(){var f=a.animation?d(k(l),null,0):1;m.ctx.clearRect(0,0,e.width,e.height),a.scaleOverlay?(c(f),b()):(b(),c(f))}function i(){l+=j,h(),1>=l?g(i):"function"==typeof a.onAnimationComplete&&a.onAnimationComplete()}var j=a.animation?1/d(a.animationSteps,Number.MAX_VALUE,1):1,k=f[a.animationEasing],l=a.animation?0:1,m=this;"function"!=typeof b&&(b=function(){}),g(i)};var g=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();return b}]),angular.module("ng-charts").directive("barChart",["ng-charts.Chart","ng-charts.defaults",function(a,b){"use strict";function c(b,c,d,e,f){function g(a){var d=b.datasets.length;k.lineWidth=c.barStrokeWidth;for(var e=0;d>e;e++)for(var f=b.datasets[e],g=0;g<f.y.length;g++){var h=n.orgin.x+c.barValueSpacing+n.gridSize.x*g+n.barWidth*e+c.barDatasetSpacing*e+c.barStrokeWidth*e,i=a*f.y[g]/(m.maxValue-m.minValue)*n.axisLength.y;k.fillStyle=f.fillColor||j.getColor(e,g,d),k.strokeStyle=f.strokeColor||j.getColor(e,g,d),k.beginPath(),k.moveTo(h,n.orgin.y),k.lineTo(h,n.orgin.y-i),k.lineTo(h+n.barWidth,n.orgin.y-i),k.lineTo(h+n.barWidth,n.orgin.y),c.barShowStroke&&k.stroke(),k.closePath(),k.fill()}}function h(){var a;for(k.lineWidth=c.scaleLineWidth,k.strokeStyle=c.scaleLineColor,k.beginPath(),k.moveTo(n.orgin.x,n.orgin.y),k.lineTo(n.orgin.x+n.axisLength.x,n.orgin.y),k.stroke(),n.rotateLabels>0?(k.save(),k.textAlign="right"):k.textAlign="center",k.fillStyle=c.scaleFontColor,a=0;a<b.labels.length;a++){k.save();var d=0;n.rotateLabels>0?(k.translate(n.orgin.x+a*n.gridSize.x,n.orgin.y+c.scaleFontSize),k.rotate(-(n.rotateLabels*(Math.PI/180))),90===n.rotateLabels&&(d=n.gridSize.x/2),k.fillText(b.labels[a],0,d),k.restore()):k.fillText(b.labels[a],n.orgin.x+a*n.gridSize.x+n.gridSize.x/2,n.orgin.y+c.scaleFontSize),k.beginPath(),k.moveTo(n.orgin.x+(a+1)*n.gridSize.x,n.orgin.y),k.lineWidth=c.scaleGridLineWidth,k.strokeStyle=c.scaleGridLineColor,k.lineTo(n.orgin.x+(a+1)*n.gridSize.x,5),k.stroke()}for(k.lineWidth=c.scaleLineWidth,k.strokeStyle=c.scaleLineColor,k.beginPath(),k.moveTo(n.orgin.x,n.orgin.y),k.lineTo(n.orgin.x,c.scaleFontSize/2),k.stroke(),k.textAlign="right",k.textBaseline="middle",a=0;a<m.labels.length;a++)k.beginPath(),k.moveTo(n.orgin.x-3,n.orgin.y-(a+1)*n.gridSize.y),c.scaleShowGridLines?(k.lineWidth=c.scaleGridLineWidth,k.strokeStyle=c.scaleGridLineColor,k.lineTo(n.orgin.x+n.axisLength.x,n.orgin.y-(a+1)*n.gridSize.y)):k.lineTo(n.orgin.x-.5,n.orgin.y-(a+1)*n.gridSize.y),k.stroke(),c.scaleShowLabels&&k.fillText(m.labels[a],n.orgin.x-8,n.orgin.y-a*n.gridSize.y)}function i(){k.font=c.scaleFontStyle+" "+c.scaleFontSize+"px "+c.scaleFontFamily;var a,d=f,g=0,h=0,i=0,j=b.datasets.length;if(c.scaleShowLabels){for(a=0;a<m.labels.length;a++){var l=k.measureText(m.labels[a]).width;h=l>h?l:h}h+=10}for(a=0;a<b.labels.length;a++){var n=k.measureText(b.labels[a]).width;i=n>i?n:i}e/b.labels.length<i?(g=45,e/b.labels.length<Math.cos(g)*i?(g=90,d-=i):d-=Math.sin(g)*i):d-=c.scaleFontSize,d-=c.scaleFontSize;var o=45==g?k.measureText(b.labels[0]).width:0,p=e-h-o,q=h+o,r=d+c.scaleFontSize/2,s=p/b.labels.length,t=Math.floor(d/m.steps),u=(s-2*c.scaleGridLineWidth-2*c.barValueSpacing-(c.barDatasetSpacing*j-1)-(c.barStrokeWidth/2*j-1))/j;return{orgin:{x:q,y:r},axisLength:{x:p,y:d},gridSize:{x:s,y:t},yLabelHeight:c.scaleFontSize,rotateLabels:g,barWidth:u}}a.call(this,d,e,f);var j=this,k=j.ctx,l=j.getValueBounds(b.datasets),m=j.calculateScale(l.maxY,l.minY,c.yFilters,c.zeroYAxis,c.yScaleLimits),n=i();j.animationLoop(c,h,g,d)}function d(a,d){var f=angular.extend(e,b,a.options),g=d[0];a.instance=new c(a.data,f,g,a.width,a.height)}var e={scaleLineColor:"rgba(0,0,0,.2)",scaleLineWidth:1,scaleShowLabels:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.1)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1};return c.prototype=Object.create(a.prototype),c.prototype.constructor=c,{replace:!0,scope:{data:"=",options:"=?",width:"=",height:"="},template:"<canvas></canvas>",link:d}}]),angular.module("ng-charts").directive("hBarChart",["ng-charts.Chart","ng-charts.defaults",function(a,b){"use strict";function c(b,c,d,e,f){function g(){var a;for(l.lineWidth=c.scaleLineWidth,l.strokeStyle=c.scaleLineColor,l.beginPath(),l.moveTo(o.orgin.x,o.orgin.y),l.lineTo(o.orgin.x,0),l.stroke(),l.textAlign="left",l.fillStyle=c.scaleFontColor,a=0;a<b.labels.length;a++)l.beginPath(),l.moveTo(o.orgin.x,o.orgin.y-(a+1)*o.gridSize.y),c.scaleShowGridLines?(l.lineWidth=c.scaleGridLineWidth,l.strokeStyle=c.scaleGridLineColor,l.lineTo(e,o.orgin.y-(a+1)*o.gridSize.y)):l.lineTo(o.orgin.x-2,o.orgin.y-(a+1)*o.gridSize.y),l.stroke(),l.fillText(b.labels[a],0,(a+.5)*o.gridSize.y);for(l.lineWidth=c.scaleLineWidth,l.strokeStyle=c.scaleLineColor,l.beginPath(),l.moveTo(o.orgin.x,o.orgin.y),l.lineTo(o.orgin.x+o.axisLength.x,o.orgin.y),l.stroke(),l.textAlign="center",l.textBaseline="middle",a=0;a<n.labels.length;a++)l.save(),c.scaleShowLabels&&l.fillText(n.labels[a],o.orgin.x+a*o.gridSize.x,o.orgin.y+c.scaleFontSize),l.beginPath(),l.moveTo(o.orgin.x+a*o.gridSize.x,o.orgin.y),l.lineWidth=c.scaleGridLineWidth,l.strokeStyle=c.scaleGridLineColor,l.lineTo(o.orgin.x+a*o.gridSize.x,0),l.stroke()}function h(a){l.lineWidth=c.barStrokeWidth;for(var d=0;j>d;d++)for(var e=b.datasets[d],f=0;f<e.y.length;f++){var g=f*o.gridSize.y+d*(o.barWidth+c.barStrokeWidth)+(d+1)*c.barDatasetSpacing+c.barValueSpacing,h=o.orgin.x+a*e.y[f]/(n.maxValue-n.minValue)*o.axisLength.x;l.fillStyle=b.datasets[d].fillColor||k.getColor(d,f,j),l.strokeStyle=b.datasets[d].strokeColor||k.getColor(d,f,j),l.beginPath(),l.moveTo(o.orgin.x,g),l.lineTo(h,g),l.lineTo(h,g+o.barWidth),l.lineTo(o.orgin.x,g+o.barWidth),c.barShowStroke&&l.stroke(),l.closePath(),l.fill()}}function i(){l.font=c.scaleFontStyle+" "+c.scaleFontSize+"px "+c.scaleFontFamily;var a,d=0,g=0,h=0,i=40;for(a=0;a<b.labels.length;a++)d=l.measureText(b.labels[a]).width,g=d>g?d:g;for(g+=10,a=0;a<n.labels.length;a++)d=l.measureText(n.labels[a]).width,h=d>h?d:h;var k=g/i*c.scaleFontSize,m=f-k-c.scaleFontSize,o=e-g-h/2,p=Math.max(h,g),q=f-k-c.scaleFontSize,r=o/(n.labels.length-1),s=m/b.labels.length,t=(s-c.barValueSpacing)/j-c.barDatasetSpacing-2*c.barStrokeWidth;return{orgin:{x:p,y:q},axisLength:{x:o,y:m},gridSize:{x:r,y:s},yLabelHeight:c.scaleFontSize,barWidth:t}}a.call(this,d,e,f);var j=b.datasets.length,k=this,l=k.ctx,m=k.getValueBounds(b.datasets),n=k.calculateScale(m.maxY,m.minY,c.yFilters,c.zeroYAxis,c.yScaleLimits),o=i();k.animationLoop(c,g,h,d)}function d(a,d){var f=d[0],g=angular.extend(e,b,a.options);a.instance=new c(a.data,g,f,a.width,a.height)}var e={scaleLineColor:"rgba(0,0,0,.2)",scaleLineWidth:1,scaleShowLabels:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.1)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1};return c.prototype=Object.create(a.prototype),c.prototype.constructor=c,{replace:!0,scope:{data:"=",options:"=?",width:"=",height:"="},template:"<canvas></canvas>",link:d}}]),angular.module("ng-charts").directive("lineChart",["ng-charts.Chart","ng-charts.defaults",function(a,b){"use strict";function c(b,c,d,e,f){function g(a){function d(b){return o.orgin.y-a*(b-m.minValue)/(m.maxValue-m.minValue)*o.axisLength.y}function f(a){return Math.max(o.orgin.x,o.orgin.x+(a-n.minValue)/(n.maxValue-n.minValue)*o.axisLength.x)}var g,h;for(g=0;g<b.datasets.length;g++){var i=b.datasets[g];for(k.strokeStyle=b.datasets[g].strokeColor,k.lineWidth=c.datasetStrokeWidth,k.beginPath(),k.moveTo(f(i.x[0]),d(i.y[0])),h=1;h<i.y.length;h++){var j=f(i.x[h]),l=d(i.y[h]);if(c.bezierCurve){var p=(j+f(i.x[h-1]))/2,q=d(i.y[h-1]);k.bezierCurveTo(p,q,p,l,j,l)}else k.lineTo(j,l)}if(k.stroke(),c.datasetFill?(k.lineTo(f(i.x[i.x.length-1]),o.orgin.y),k.lineTo(f(i.x[0]),o.orgin.y),k.closePath(),k.fillStyle=b.datasets[g].fillColor,k.fill()):k.closePath(),c.pointDot)for(k.fillStyle=b.datasets[g].pointColor,k.strokeStyle=b.datasets[g].pointStrokeColor,k.lineWidth=c.pointDotStrokeWidth,h=0;h<b.datasets[g].y.length;h++){var r=i.x[h],s=i.y[h];r>=n.minValue&&(k.beginPath(),k.arc(f(r),d(s),c.pointDotRadius,0,2*Math.PI,!0),k.fill(),k.stroke())}var t=o.orgin.x+(n.labels.length-1)*o.gridSize.x+.5*c.scaleLineWidth,u=o.orgin.y;k.clearRect(t,0,e,u)}}function h(){var a;for(k.lineWidth=c.scaleLineWidth,k.strokeStyle=c.scaleLineColor,k.beginPath(),k.moveTo(o.orgin.x,o.orgin.y),k.lineTo(o.orgin.x+o.axisLength.x,o.orgin.y),k.stroke(),o.rotateLabels>0?(k.save(),k.textAlign="right"):k.textAlign="center",k.fillStyle=c.scaleFontColor,a=0;a<n.labels.length;a++){k.save(),o.rotateLabels>0?(k.translate(o.orgin.x+a*o.gridSize.x,o.orgin.y+c.scaleFontSize),k.rotate(-(o.rotateLabels*(Math.PI/180))),k.fillText(n.labels[a],0,0),k.restore()):k.fillText(n.labels[a],o.orgin.x+a*o.gridSize.x,o.orgin.y+c.scaleFontSize+3),k.beginPath(),k.moveTo(o.orgin.x+a*o.gridSize.x,o.orgin.y+3);var b=Math.round(a/c.scaleGridLineFrequency)-a/c.scaleGridLineFrequency;c.scaleShowGridLines&&a>0&&0===b?(k.lineWidth=c.scaleGridLineWidth,k.strokeStyle=c.scaleGridLineColor,k.lineTo(o.orgin.x+a*o.gridSize.x,5)):k.lineTo(o.orgin.x+a*o.gridSize.x,o.orgin.y+3),k.stroke()}for(k.lineWidth=c.scaleLineWidth,k.strokeStyle=c.scaleLineColor,k.beginPath(),k.moveTo(o.orgin.x,o.orgin.y+5),k.lineTo(o.orgin.x,5),k.stroke(),k.textAlign="right",k.textBaseline="middle",a=0;a<m.steps+1;a++)k.beginPath(),k.moveTo(o.orgin.x,o.orgin.y-(a+1)*o.gridSize.y),c.scaleShowGridLines?(k.lineWidth=c.scaleGridLineWidth,k.strokeStyle=c.scaleGridLineColor,k.lineTo(o.orgin.x+o.axisLength.x+5,o.orgin.y-(a+1)*o.gridSize.y)):k.lineTo(o.orgin.x-.5,o.orgin.y-(a+1)*o.gridSize.y),k.stroke(),c.scaleShowLabels&&k.fillText(m.labels[a],o.orgin.x-8,o.orgin.y-a*o.gridSize.y)}function i(){k.font=c.scaleFontStyle+" "+c.scaleFontSize+"px "+c.scaleFontFamily;var a,b=f,d=0,g=0,h=0,i=0;for(a=0;a<n.labels.length;a++){var j=k.measureText(n.labels[a]).width;h=j>h?j:h,0===a&&(i=j)}if(e/n.labels.length<h?(d=45,e/n.labels.length<Math.cos(d)*h?(d=90,b-=h,i=c.scaleFontSize):b-=Math.sin(d)*h):(b-=c.scaleFontSize,i/=2),b-=c.scaleFontSize+5,c.scaleShowLabels){for(a=0;a<m.labels.length;a++){var l=k.measureText(m.labels[a]).width;g=l>g?l:g}g+=10}var o=e-g-h,p=Math.max(i,g),q=b+c.scaleFontSize/2,r=Math.floor(o/(n.labels.length-1)),s=Math.floor(b/m.steps);return{orgin:{x:p,y:q},axisLength:{x:o,y:b},gridSize:{x:r,y:s},yLabelHeight:c.scaleFontSize,rotateLabels:d}}a.call(this,d,e,f);var j=this,k=j.ctx,l=j.getValueBounds(b.datasets),m=j.calculateScale(l.maxY,l.minY,c.yFilters,c.zeroYAxis,c.yScaleLimits),n=j.calculateScale(l.maxX,l.minX,c.xFilters,c.zeroXAxis,c.xScaleLimits),o=i();j.animationLoop(c,h,g,d)}function d(a,d){var f=angular.extend(e,b,a.options),g=d[0];a.instance=new c(a.data,f,g,a.width,a.height)}var e={scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.1)",scaleGridLineFrequency:1,scaleGridLineWidth:1,bezierCurve:!0,pointDot:!0,pointDotRadius:6,pointDotStrokeWidth:1,datasetStroke:!0,datasetStrokeWidth:6,datasetFill:!1};return c.prototype=Object.create(a.prototype),c.prototype.constructor=c,{replace:!0,scope:{data:"=",options:"=?",width:"=",height:"="},template:"<canvas></canvas>",link:d}}]),angular.module("ng-charts").directive("pieChart",["ng-charts.Chart","ng-charts.defaults",function(a,b){"use strict";function c(b,c,d,e,f){function g(a){var d=-Math.PI/2,e=1,f=1,g=i.ctx;c.animation&&(c.animateScale&&(e=a),c.animateRotate&&(f=a));for(var h=0;h<j.length;h++){var m=f*(j[h]/l)*2*Math.PI;g.beginPath(),g.arc(k.center.x,k.center.y,e*k.radius,d,d+m,!1),g.arc(k.center.x,k.center.y,e*k.innerRadius,d+m,d,!0),g.closePath(),g.fillStyle=i.getColor(0,h,1),g.fill(),c.segmentShowStroke&&(g.lineWidth=c.segmentStrokeWidth,g.strokeStyle=c.segmentStrokeColor,g.stroke()),d+=m,c.legend&&(g.fillRect(k.legendX,k.legendY+2*h*k.legendTitleSize,k.legendTitleSize,k.legendTitleSize),g.fillStyle="#000",g.textBaseline="middle",g.fillText(b.labels[h],k.legendX+k.legendTitleSize+10,k.legendY+(2*h+.5)*k.legendTitleSize))}}function h(){var a={};return c.legend?(a.legendWidth=200,a.radius=Math.min(f/2,(e-a.legendWidth)/2)-5,a.center={x:(e-a.legendWidth)/2,y:f/2},a.legendTitleSize=25,a.legendY=f/2-b.datasets[0].y.length*a.legendTitleSize,a.legendX=e-a.legendWidth+20):(a.radius=Math.min(f/2,e/2)-5,a.center={x:e/2,y:f/2}),a.innerRadius=a.radius*(c.innerCutout/100),a}a.call(this,d,e,f);for(var i=this,j=b.datasets[0].y,k=h(),l=0,m=0;m<j.length;m++)l+=j[m];i.animationLoop(c,null,g,d)}function d(a,d){var f=angular.extend(e,b,a.options),g=d[0];a.instance=new c(a.data,f,g,a.width,a.height)}var e={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animateRotate:!0,animateScale:!1,legend:!0,innerCutout:0};return c.prototype=Object.create(a.prototype),c.prototype.constructor=c,{replace:!0,scope:{data:"=",options:"=?",width:"=",height:"="},template:"<canvas></canvas>",link:d}}]);